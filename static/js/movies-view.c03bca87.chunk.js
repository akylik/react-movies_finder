(this["webpackJsonpreact-18"]=this["webpackJsonpreact-18"]||[]).push([[3],{65:function(e,t,a){"use strict";a.r(t);var n=a(30),r=a.n(n),c=a(31),i=a(32),o=a(33),s=a(36),l=a(35),u=a(0),m=a.n(u),p=a(34),h=a.n(p),v=a(7),f=a(1),d=function(e){Object(s.a)(a,e);var t=Object(l.a)(a);function a(){var e;Object(i.a)(this,a);for(var n=arguments.length,r=new Array(n),c=0;c<n;c++)r[c]=arguments[c];return(e=t.call.apply(t,[this].concat(r))).state={query:"",queryMovie:"",movies:[]},e.handleChange=function(t){e.setState({query:t.currentTarget.value})},e.handleSubmit=function(t){t.preventDefault(),e.setState({queryMovie:e.state.query,query:""})},e}return Object(o.a)(a,[{key:"componentDidMount",value:function(){var e=Object(c.a)(r.a.mark((function e(){return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()},{key:"componentDidUpdate",value:function(){var e=Object(c.a)(r.a.mark((function e(t,a){var n;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(a.queryMovie===this.state.queryMovie){e.next=5;break}return e.next=3,h.a.get("https://api.themoviedb.org/3/search/movie?api_key=27afa94f0efefd21cbebfb5074759bcd&query=".concat(this.state.queryMovie,"&page=1&include_adult=false"));case 3:n=e.sent,this.setState({movies:n.data.results});case 5:case"end":return e.stop()}}),e,this)})));return function(t,a){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=this;return m.a.createElement("div",null,m.a.createElement("div",{className:"Searchbar"},m.a.createElement("form",{onSubmit:this.handleSubmit,className:"SearchForm"},m.a.createElement("button",{type:"submit",className:"SearchForm-button"},m.a.createElement("span",{className:"SearchForm-button-label"})),m.a.createElement("input",{type:"text",value:this.state.query,onChange:this.handleChange,className:"SearchForm-input",autoComplete:"off",autoFocus:!0,placeholder:"Search movie"}))),this.state.queryMovie&&m.a.createElement("div",null,m.a.createElement("ul",null,this.state.movies.map((function(t){return m.a.createElement("li",{key:t.id},m.a.createElement(v.b,{to:{pathname:"/movies/".concat(t.id),state:{from:e.props.location}}},t.title))})))))}}]),a}(u.Component);t.default=Object(f.f)(d)},66:function(e,t,a){"use strict";a.r(t);var n=a(30),r=a.n(n),c=a(31),i=a(32),o=a(33),s=a(36),l=a(35),u=a(0),m=a.n(u),p=a(34),h=a.n(p),v=a(7),f=a(1),d=a(8),b=function(e){Object(s.a)(a,e);var t=Object(l.a)(a);function a(){var e;Object(i.a)(this,a);for(var n=arguments.length,r=new Array(n),c=0;c<n;c++)r[c]=arguments[c];return(e=t.call.apply(t,[this].concat(r))).state={cast:[]},e}return Object(o.a)(a,[{key:"componentDidMount",value:function(){var e=Object(c.a)(r.a.mark((function e(){var t,a;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=this.props.match.params.movieId,e.next=3,h.a.get("https://api.themoviedb.org/3/movie/".concat(t,"/credits?api_key=27afa94f0efefd21cbebfb5074759bcd&language=en-US"));case 3:a=e.sent,this.setState({cast:a.data.cast});case 5:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){return m.a.createElement("div",null,m.a.createElement("ul",null,this.state.cast.map((function(e){return m.a.createElement("li",{key:e.cast_id},m.a.createElement("div",{className:"ProfileContainer"},m.a.createElement("img",{src:"https://www.themoviedb.org/t/p/w600_and_h900_bestv2".concat(e.profile_path),className:"ProfileImg"}),m.a.createElement("p",null,e.name),m.a.createElement("p",null,"Character: ",e.character)))}))))}}]),a}(u.Component),y=function(e){Object(s.a)(a,e);var t=Object(l.a)(a);function a(){var e;Object(i.a)(this,a);for(var n=arguments.length,r=new Array(n),c=0;c<n;c++)r[c]=arguments[c];return(e=t.call.apply(t,[this].concat(r))).state={reviews:[]},e}return Object(o.a)(a,[{key:"componentDidMount",value:function(){var e=Object(c.a)(r.a.mark((function e(){var t,a;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=this.props.match.params.movieId,e.next=3,h.a.get("https://api.themoviedb.org/3/movie/".concat(t,"/reviews?api_key=27afa94f0efefd21cbebfb5074759bcd&language=en-US&page=1"));case 3:a=e.sent,console.log(a.data),this.setState({reviews:a.data.results});case 6:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){return m.a.createElement("div",null,m.a.createElement("ul",null,this.state.reviews.map((function(e){return m.a.createElement("li",{key:e.id},m.a.createElement("div",{className:"ProfileContainer"},m.a.createElement("h4",null,e.author),m.a.createElement("p",null,e.content)))}))))}}]),a}(u.Component),E=function(e){Object(s.a)(a,e);var t=Object(l.a)(a);function a(){var e;Object(i.a)(this,a);for(var n=arguments.length,r=new Array(n),c=0;c<n;c++)r[c]=arguments[c];return(e=t.call.apply(t,[this].concat(r))).state={movie:{},genres:[]},e.handleGoBack=function(){var t=e.props,a=t.location,n=t.history;if(a.state&&a.state.from)return n.push(a.state.from);n.push(d.a.home)},e}return Object(o.a)(a,[{key:"componentDidMount",value:function(){var e=Object(c.a)(r.a.mark((function e(){var t,a,n,c;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=this.props.match.params.movieId,e.next=3,h.a.get("https://api.themoviedb.org/3/movie/".concat(t,"?api_key=27afa94f0efefd21cbebfb5074759bcd&language=en-US"));case 3:a=e.sent,console.log(a),this.setState({movie:a.data}),n=this.state.movie.genres,c=n.map((function(e){return e.name})).join(", "),this.setState({genres:c});case 9:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=this.props.match.params.movieId;return m.a.createElement("div",null,m.a.createElement("button",{type:"button",onClick:this.handleGoBack,className:"NavLink"},"\u0412\u0435\u0440\u043d\u0443\u0442\u044c\u0441\u044f \u043d\u0430\u0437\u0430\u0434"),m.a.createElement("div",{className:"container-fluid"},m.a.createElement("div",null,m.a.createElement("img",{src:"https://www.themoviedb.org/t/p/original".concat(this.state.movie.poster_path),className:"Poster__img"})),m.a.createElement("div",null,m.a.createElement("h3",null,this.state.movie.title),m.a.createElement("h6",null,"User Score: ",this.state.movie.runtime,"%"),m.a.createElement("h4",null,"Overview"),m.a.createElement("p",null,this.state.movie.overview),m.a.createElement("h4",null,"Genres"),m.a.createElement("p",null,this.state.genres))),m.a.createElement("div",{className:"Information"},m.a.createElement("h6",null,"Additional information"),m.a.createElement("ul",null,m.a.createElement("li",null,m.a.createElement(v.b,{to:"/movies/".concat(e,"/cast")},"Cast")),m.a.createElement("li",null,m.a.createElement(v.b,{to:"/movies/".concat(e,"/reviews")},"Reviews")))),m.a.createElement(f.c,null,m.a.createElement(f.a,{path:"/movies/:movieId/cast",component:b}),m.a.createElement(f.a,{path:"/movies/:movieId/reviews",component:y})))}}]),a}(u.Component);t.default=Object(f.f)(E)}}]);
//# sourceMappingURL=movies-view.c03bca87.chunk.js.map